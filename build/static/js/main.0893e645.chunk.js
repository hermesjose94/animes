(this.webpackJsonpanimes=this.webpackJsonpanimes||[]).push([[0],{32:function(e,a,t){},46:function(e,a,t){},49:function(e,a,t){e.exports=t.p+"static/media/logo.9c15144e.png"},51:function(e,a,t){e.exports=t.p+"static/media/planet1.bfc14033.png"},52:function(e,a,t){e.exports=t.p+"static/media/planet2.ca7c2693.png"},53:function(e,a,t){e.exports=t.p+"static/media/rocket.ba6946fd.png"},54:function(e,a,t){e.exports=t.p+"static/media/astronaut.fb0c6b50.png"},55:function(e,a,t){e.exports=t.p+"static/media/logoBanner.46424e89.png"},57:function(e,a,t){e.exports=t(99)},84:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),l=t.n(c),o=t(29),s=t(10),i=t(1),m=function(e,a){switch(a.type){case"LOGIN_REQUEST":case"LOGOUT_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{user:a.payload});case"SET_TOKEN":return Object(i.a)(Object(i.a)({},e),{},{token:a.payload});case"SET_EXPITED_AT":return Object(i.a)(Object(i.a)({},e),{},{expiredAt:a.payload});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:a.payload});case"SET_IS_AUTHENTICATED":return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:a.payload});case"SET_ANIMES_WEEK":return Object(i.a)(Object(i.a)({},e),{},{animesWeek:a.payload});case"SET_ANIMES":return Object(i.a)(Object(i.a)({},e),{},{animes:a.payload});case"SET_ANIME":return Object(i.a)(Object(i.a)({},e),{},{anime:a.payload});case"SET_LOADING_AUTH":return Object(i.a)(Object(i.a)({},e),{},{loadingAuth:a.payload});case"SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:a.payload});case"SET_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:a.payload});case"SET_ANIMES_FILTER":return Object(i.a)(Object(i.a)({},e),{},{animesFilter:a.payload});case"SET_QUERY":case"SET_FORM_ANIME":return Object(i.a)(Object(i.a)({},e),{},{query:a.payload});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=t(2),d=t.n(u),E=t(4),p=t(6),f=t(11),b=t(8),v=t(27),g=t.n(v);g.a.defaults.withCredentials=!0;var h=function(){var e=Object(p.a)(d.a.mark((function e(a,t,n,r,c){var l,o,s,m,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,s="".concat("http://localhost:3000/api").concat(t),m={"Content-Type":"application/json",Accept:"application/json"},r?g.a.defaults.headers.common.Authorization="Bearer ".concat(r):delete g.a.defaults.headers.common.Authorization,u={method:a,url:s,headers:m,auth:c},n&&(u=Object(i.a)(Object(i.a)({},u),{},{data:JSON.stringify(n)})),e.next=8,g()(u).then(function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.data;case 2:l=e.sent,console.log(s),console.log(l);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return o=e.response&&401===e.response.status?{statusCode:401,message:e.response.data.message}:e,[l,o]}));case 8:return e.abrupt("return",[l,o]);case 9:case"end":return e.stop()}}),e)})));return function(a,t,n,r,c){return e.apply(this,arguments)}}(),O=function(e){return{type:"SET_TOKEN",payload:e}},j=function(e){return{type:"SET_EXPITED_AT",payload:e}},N=function(e){return{type:"SET_USER",payload:e}},y=function(e){return{type:"SET_IS_AUTHENTICATED",payload:e}},w=function(e){return{type:"SET_ANIMES_WEEK",payload:e}},k=function(e){return{type:"SET_LOADING",payload:e}},_=function(e){return{type:"SET_ERROR",payload:e}},A=t(30),x=function(e){var a=e.isAuthenticated,t=e.component,n=Object(A.a)(e,["isAuthenticated","component"]);return r.a.createElement(b.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},T=function(e){var a=e.isAuthenticated,t=e.component,n=Object(A.a)(e,["isAuthenticated","component"]);return r.a.createElement(b.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(b.a,{to:{pathname:"/"}}):r.a.createElement(t,e)}}))},C=t(17),I=(t(84),t(5)),S=t(48),L=t.n(S),D=(t(88),{setUser:N,setIsAuthenticated:y,setToken:O,setExpitedAt:j,setLoading:k,setError:_}),F=Object(s.b)((function(e){return{user:e.user,isAuthenticated:e.isAuthenticated,expiredAt:e.expiredAt,token:e.token}}),D)(Object(b.g)((function(e){var a=e.history,t=e.user,c=e.expiredAt,l=e.token,o=e.isAuthenticated,s=e.setUser,i=e.setIsAuthenticated,m=e.setToken,u=e.setExpitedAt,b=e.setError,v=!1;o&&t.isAdmin&&(v=!0);var g=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,h("POST","/auth/verifyToken",null,null,null);case 3:a=e.sent,t=Object(E.a)(a,2),n=t[0],(r=t[1])?(b(r),s(null),i(!1),k(!1)):(m(n.token),u(n.expiredAt),n.user&&(s(n.user),i(!0)),k(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,h("POST","/auth/logout",null,null,null);case 3:t=e.sent,n=Object(E.a)(t,2),n[0],(r=n[1])?(b(r),i(!1),s(null),k(!1)):(m(null),u(null),i(!1),s(null),k(!1),a.push("/"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=setTimeout((function(){g()}),L()(c).diff()-1e4);return function(){clearTimeout(e)}}),[c,l]);return r.a.createElement("header",null,r.a.createElement("div",{onClick:function(e){var a=document.getElementById("menu-nav");"active"===a.className?a.classList.remove("active"):a.classList.add("active")},className:"menu-toggle"},r.a.createElement(I.a,{icon:["fas","bars"]})),r.a.createElement("div",{className:"logo"},"ANIME"),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(e){var a=document.getElementById("perfil-nav");"active"===a.className?a.classList.remove("active"):a.classList.add("active")},className:"perfil-toggle"},r.a.createElement(I.a,{icon:["fas","user-circle"]})),r.a.createElement("nav",{id:"perfil-nav"},r.a.createElement("ul",null,r.a.createElement("li",{className:"perfl"},r.a.createElement(I.a,{icon:["fas","user-astronaut"]}),r.a.createElement("h2",null,t.name),r.a.createElement("h2",null,t.email)),r.a.createElement("li",null,r.a.createElement(f.c,{id:"home",exact:!0,to:"/profile",activeClassName:"active"},r.a.createElement(I.a,{icon:["fas","user"]}),"Perfil")),r.a.createElement("li",null,r.a.createElement("button",{id:"logout",onClick:function(){O()}},r.a.createElement(I.a,{icon:["fas","sign-out-alt"]}),"Cerrar Sesion"))))),r.a.createElement("nav",{id:"menu-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.c,{id:"home",exact:!0,to:"/",activeClassName:"active"},r.a.createElement(I.a,{icon:["fas","home"]}),"Home")),r.a.createElement("li",null,r.a.createElement(f.c,{id:"animesAll",exact:!0,to:"/animes",activeClassName:"active"},r.a.createElement(I.a,{icon:["fas","video"]}),"Todos")),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(f.c,{id:"follows",exact:!0,to:"/animes/follows",activeClassName:"active"},r.a.createElement(I.a,{icon:["fas","heart"]}),"Mi Lista")),v&&r.a.createElement("li",null,r.a.createElement(f.c,{id:"create",exact:!0,to:"/anime/create",activeClassName:"active"},r.a.createElement(I.a,{icon:["fas","plus"]}),"Crear"))):r.a.createElement("li",null,r.a.createElement(f.c,{id:"login",to:"/login",activeClassName:"active"},r.a.createElement(I.a,{icon:["fas","sign-in-alt"]})," Iniciar")))))}))),U=(t(89),t(49)),M=t.n(U),R=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer__main"},r.a.createElement("div",{className:"footer__main__content"},r.a.createElement("div",{className:"footer-logo"},r.a.createElement("img",{src:M.a,alt:""}))),r.a.createElement("div",{className:"footer__main__content"},r.a.createElement("div",{className:"footer-redes"},r.a.createElement("a",{href:"https://github.com/hermesjose94"},r.a.createElement(I.a,{icon:["fab","github-alt"]})),r.a.createElement("a",{href:"https://www.instagram.com/hermesjoseperez/?hl=es-la"},r.a.createElement(I.a,{icon:["fab","instagram"]})),r.a.createElement("a",{href:"https://www.facebook.com/hermesjose.perezrojas"},r.a.createElement(I.a,{icon:["fab","facebook"]})),r.a.createElement("a",{href:"https://twitter.com/hermesjose94"},r.a.createElement(I.a,{icon:["fab","twitter"]}))))),r.a.createElement("div",{className:"footer__bottom"},r.a.createElement("div",{className:"copyright"},r.a.createElement("span",null,"\xa9 Copyright 2020"),r.a.createElement("span",null,"Desarrollada por"," ",r.a.createElement("a",{href:"https://hermesjose94.github.io//"},"hermesjose94")))))},q=function(e){var a=e.history,t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{history:a}),r.a.createElement("div",{className:"content__app"},t),r.a.createElement(R,null))},P=t(20),B=t(21),W=t(23),V=t(22),G=(t(90),t(91),function(e){Object(W.a)(t,e);var a=Object(V.a)(t);function t(){return Object(P.a)(this,t),a.apply(this,arguments)}return Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement("div",{className:"lds-grid"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(r.a.Component)),z=(t(92),function(e){Object(W.a)(t,e);var a=Object(V.a)(t);function t(){return Object(P.a)(this,t),a.apply(this,arguments)}return Object(B.a)(t,[{key:"componentDidMount",value:function(){document.body.classList.add("background-error");var e=document.getElementById("container");window.onmousemove=function(a){var t=-a.clientX/5,n=-a.clientY/5;e.style.backgroundPositionX="".concat(t,"px"),e.style.backgroundPositionY="".concat(n,"px")}}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("background-error")}},{key:"render",value:function(){return this.props.error?this.conten="Lo sentimos hemos tenido probleas con la conexion al servidor. Por favor intentalo mas tarde.":this.conten="La p\xe1gina que estas buscnado no existe. Es posible que haya escrito mal la direcci\xf3n o que la pagina se haya movido.",r.a.createElement("div",{id:"container",className:"container-error"},r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,this.props.title||400),r.a.createElement("h4",null,this.props.error||"Opps! P\xe1gina no encontrada"),r.a.createElement("p",null,this.conten),r.a.createElement(f.b,{to:"/"},"Regresar")))}}]),t}(r.a.Component)),J=(t(32),{setLoading:k,setError:_,loginRequest:function(e){return{type:"LOGIN_REQUEST",payload:e}},setToken:O,setExpitedAt:j,setUser:N,setIsAuthenticated:y}),Q=Object(s.b)(null,J)((function(e){var a=e.history,t=e.setLoading,c=e.setError,l=e.setToken,o=e.setExpitedAt,s=e.setUser,m=e.setIsAuthenticated,u=Object(n.useState)({errorForm:null,username:"",password:""}),f=Object(E.a)(u,2),b=f[0],v=f[1];Object(n.useEffect)((function(){return document.body.classList.add("background-form"),function(){document.body.classList.remove("background-form")}}),[]);var g=function(e){v(Object(i.a)(Object(i.a)({},b),{},Object(C.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(p.a)(d.a.mark((function e(n){var r,u,p,f,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t(!0),r={username:b.username,password:b.password},e.next=5,h("GET","/auth/sign-in",null,null,r);case 5:u=e.sent,p=Object(E.a)(u,2),f=p[0],(g=p[1])?g.statusCode?(t(!1),v(Object(i.a)(Object(i.a)({},b),{},{errorForm:g.message}))):(t(!1),c(g)):(t(!1),l(f.token),s(f.user),o(f.expiredAt),m(!0),a.push("/"));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return b.error?r.a.createElement(z,{title:"500",error:b.error.message}):b.loading?r.a.createElement(G,null):r.a.createElement(q,null,r.a.createElement("div",{className:"container__form"},r.a.createElement("h1",{className:"container__form--title"},"Iniciar Sesion"),r.a.createElement("form",{onSubmit:O},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:g})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Constrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:g})),b.errorForm&&r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("p",null,b.errorForm)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Iniciar")))))})),H=t(50),K=t.n(H),X=(t(93),t(51)),Y=t.n(X),$=t(52),Z=t.n($),ee=t(53),ae=t.n(ee),te=t(54),ne=t.n(te),re=t(55),ce=t.n(re),le=function(e){Object(W.a)(t,e);var a=Object(V.a)(t);function t(){return Object(P.a)(this,t),a.apply(this,arguments)}return Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("scene");new K.a(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container__banner"},r.a.createElement("ul",{id:"scene"},r.a.createElement("li",{className:"layer","data-depth":"0.2"},r.a.createElement("img",{src:ce.a,alt:"planet1"})),r.a.createElement("li",{className:"layer","data-depth":"0.3"},r.a.createElement("img",{src:Y.a,alt:"planet1"})),r.a.createElement("li",{className:"layer","data-depth":"0.4"},r.a.createElement("img",{src:Z.a,alt:"planet2"})),r.a.createElement("li",{className:"layer","data-depth":"0.5"},r.a.createElement("img",{src:ne.a,alt:"astronaut"})),r.a.createElement("li",{className:"layer","data-depth":"0.6"},r.a.createElement("img",{src:ae.a,alt:"rocket"}))))}}]),t}(r.a.Component),oe=(t(94),function(e){var a=e.children;return r.a.createElement("div",{className:"content-wrapper"},a)}),se=(t(95),function(e){var a=e._id,t=e.name,n=e.episode,c=e.episode_follow,l=e.date,o=e.station,s=e.cover,i=e.status,m=e.season,u=e.source,d=e.follow,E=1===i?"calendar-alt":2===i?"calendar-times":"calendar-check";return r.a.createElement("div",{className:"news-card"},r.a.createElement(f.b,{to:"/anime/detail/".concat(a),className:"news-card__card-link"}),r.a.createElement("img",{src:s,alt:"".concat(t,"-").concat(a),className:"news-card__image"}),r.a.createElement("div",{className:"news-card__text-wrapper"},r.a.createElement("div",{className:"news-card__title"},r.a.createElement("h2",null,t)),r.a.createElement("div",{className:"news-card__post-dates"},r.a.createElement("div",{className:"news-card__post-dates--content"},d?r.a.createElement("div",{className:"icon"},r.a.createElement(I.a,{icon:["fas","list-ol"]})," ","".concat(c," / ").concat(n)):r.a.createElement("div",{className:"icon"},r.a.createElement(I.a,{icon:["fas","list-ol"]})," ",n),r.a.createElement("div",{className:"icon"},r.a.createElement(I.a,{icon:["fas",E]})," ",{1:"Online",2:"Detenido",3:"Finalizado"}[i]))),r.a.createElement("div",{className:"news-card__details-wrapper"},r.a.createElement("div",{className:"news-card__details-wrapper--grid"},r.a.createElement("div",{className:"news-card__excerpt"},"Temporada ",m),r.a.createElement("div",{className:"news-card__excerpt"},l),r.a.createElement("div",{className:"news-card__excerpt"},{1:"Primavera",2:"Verano",3:"Oto\xf1o",4:"Invierno"}[o])),r.a.createElement("a",{href:u,target:"_blank",className:"news-card__read-more"},"Ver Anime",r.a.createElement(I.a,{icon:["fas","chevron-right"]})))))}),ie=function(e){var a=e.animes,t=e.day,n=e.follow,c=e.title;return r.a.createElement(r.a.Fragment,null,a[t]&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,c),r.a.createElement(oe,null,a[t].map((function(e){return r.a.createElement(se,Object.assign({key:e._id},e,{follow:n}))})))))},me=(t(46),{setLoading:k,setError:_,setAnimesWeek:w}),ue=Object(s.b)((function(e){return{loading:e.loading,error:e.error,animesWeek:e.animesWeek}}),me)((function(e){var a=e.history,t=e.loading,c=e.error,l=e.animesWeek,o=e.setLoading,s=e.setError,i=e.setAnimesWeek,m=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,h("GET",'/animes?status=1&week=true&order={"premiere":1,"name": 1}',null);case 3:a=e.sent,t=Object(E.a)(a,2),n=t[0],(r=t[1])?(o(!1),s(r)):(o(!1),i(n.data));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m()}),[]),c?r.a.createElement(z,{title:"500",error:c.message}):t?r.a.createElement(G,null):r.a.createElement(q,{history:a},r.a.createElement(le,null),r.a.createElement("div",{className:"container-home"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{animes:l,follow:!1,day:1,title:"Lunes"}),r.a.createElement(ie,{animes:l,follow:!1,day:2,title:"Martes"}),r.a.createElement(ie,{animes:l,follow:!1,day:3,title:"Miercoles"}),r.a.createElement(ie,{animes:l,follow:!1,day:4,title:"Jueves"}),r.a.createElement(ie,{animes:l,follow:!1,day:5,title:"Viernes"}),r.a.createElement(ie,{animes:l,follow:!1,day:6,title:"Sabado"}),r.a.createElement(ie,{animes:l,follow:!1,day:7,title:"Domingo"}))))})),de=(t(96),function(e){var a=e.onChange;return r.a.createElement("div",{className:"box__search"},r.a.createElement("div",{className:"box__search__container"},r.a.createElement("span",{className:"icon"},r.a.createElement(I.a,{icon:["fas","search"]})),r.a.createElement("input",{onChange:a,type:"search",id:"search",placeholder:"Buscar..."})))}),Ee={setLoading:k,setError:_,setAnimes:function(e){return{type:"SET_ANIMES",payload:e}},setAnimesFilter:function(e){return{type:"SET_ANIMES_FILTER",payload:e}},setQuery:function(e){return{type:"SET_QUERY",payload:e}}},pe=Object(s.b)((function(e){return{loading:e.loading,error:e.error,animes:e.animes,animesFilter:e.animesFilter,query:e.query}}),Ee)((function(e){var a=e.loading,t=e.error,c=e.animes,l=e.animesFilter,o=e.query,s=e.setLoading,i=e.setError,m=e.setAnimes,u=e.setAnimesFilter,f=e.setQuery,b=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,h("GET",'/animes?order={"name": 1}',null);case 3:a=e.sent,t=Object(E.a)(a,2),n=t[0],(r=t[1])?(s(!1),i(r)):(m(n.data),u(n.data),s(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(n.useEffect)((function(){var e=c.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())}));u(e)}),[o]),t?r.a.createElement(z,{title:"500",error:t.message}):a?r.a.createElement(G,null):r.a.createElement(q,null,r.a.createElement("div",{className:"container-home"},r.a.createElement(de,{onChange:function(e){f(e.target.value)}}),l.length>0?r.a.createElement(oe,null,l.map((function(e){return r.a.createElement(se,Object.assign({key:e._id},e))}))):r.a.createElement("div",{className:"container-noResult"},r.a.createElement("h1",null,"Sin resultados ",r.a.createElement(I.a,{icon:["fas","tired"]})))))})),fe={setLoading:k,setError:_,setAnimesWeek:w},be=Object(s.b)((function(e){return{loading:e.loading,error:e.error,animesWeek:e.animesWeek,user:e.user,isAuthenticated:e.isAuthenticated,token:e.token}}),fe)((function(e){var a=e.history,t=e.loading,c=e.error,l=e.animesWeek,o=e.setLoading,s=e.setError,i=e.setAnimesWeek,m=e.user,u=e.token,f=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,h("GET","/user-animes/".concat(m.id,'?week=true&order={"premiere":1,"name": 1}'),null,u);case 3:a=e.sent,t=Object(E.a)(a,2),n=t[0],(r=t[1])?(o(!1),s(r)):(o(!1),i(n.data));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f()}),[]),c?r.a.createElement(z,{title:"500",error:c.message}):t?r.a.createElement(G,null):r.a.createElement(q,{history:a},r.a.createElement("div",{className:"container-home"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{animes:l,follow:!0,day:1,title:"Lunes"}),r.a.createElement(ie,{animes:l,follow:!0,day:2,title:"Martes"}),r.a.createElement(ie,{animes:l,follow:!0,day:3,title:"Miercoles"}),r.a.createElement(ie,{animes:l,follow:!0,day:4,title:"Jueves"}),r.a.createElement(ie,{animes:l,follow:!0,day:5,title:"Viernes"}),r.a.createElement(ie,{animes:l,follow:!0,day:6,title:"Sabado"}),r.a.createElement(ie,{animes:l,follow:!0,day:7,title:"Domingo"}),r.a.createElement(ie,{animes:l,follow:!0,day:8,title:"Finalizado"}))))}));t(97);var ve=function(e){var a=e.isOpen,t=e.onClose,n=e.children,c=e.title;return a?l.a.createPortal(r.a.createElement("div",{className:"Modal"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",{className:"modal-title",id:"staticBackdropLabel"},c),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:t},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n))),document.getElementById("modal")):null};var ge=function(e){var a=e.isOpen,t=e.onClose,n=e.onClick;return r.a.createElement(ve,{isOpen:a,onClose:t,title:"\xbfEst\xe1 seguro?"},r.a.createElement("div",{className:"modal-body"},"Est\xe1 a punto de borrar un anime."),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:t,className:"btn btn-secondary"},"Cancelar"),r.a.createElement("button",{onClick:n,className:"btn btn-danger"},"Borrar")))};var he=function(e){var a=e.isOpen,t=e.onClose,n=e.onClickUp,c=e.onClickDown;return r.a.createElement(ve,{isOpen:a,onClose:t,title:"Editar episodio"},r.a.createElement("div",{className:"DeleteBadgeModal"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Ingrese cuanto aumentar o disminuir el capitulo"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,id:"modalEpisode",name:"name",type:"number",className:"form-control",defaultValue:"1",min:"1",autoComplete:"off"}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:t,className:"btn btn-secondary"},"Cancelar"),r.a.createElement("button",{onClick:c,className:"btn btn-danger"},"Bajar"),r.a.createElement("button",{onClick:n,className:"btn btn-success"},"Subir"))))},Oe=(t(98),{setLoading:k,setError:_,setAnime:function(e){return{type:"SET_ANIME",payload:e}}}),je=Object(s.b)((function(e){return{loading:e.loading,error:e.error,anime:e.anime,user:e.user,isAuthenticated:e.isAuthenticated,token:e.token}}),Oe)((function(e){var a=e.match,t=e.history,c=e.loading,l=e.error,o=e.token,s=e.anime,m=e.user,u=e.isAuthenticated,b=e.setLoading,v=e.setError,g=e.setAnime,O=!1;u&&m.isAdmin&&(O=!0);var j=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r,c,l,s,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),!m){e.next=10;break}return e.next=4,h("GET","/user-animes/".concat(m.id,"/").concat(a.params.animeId),null,o);case 4:r=e.sent,c=Object(E.a)(r,2),t=c[0],n=c[1],e.next=16;break;case 10:return e.next=12,h("GET","/animes/".concat(a.params.animeId),null);case 12:l=e.sent,s=Object(E.a)(l,2),t=s[0],n=s[1];case 16:n?(v(n),b(!1)):(u=1===t.data.status?"calendar-alt":2===t.data.status?"calendar-times":"calendar-check",p=1===t.data.status?"success":2===t.data.status?"danger":"primary",g(Object(i.a)(Object(i.a)({},t.data),{},{icon:u,classStatus:p,modalIsOpenD:!1,modalIsOpenUp:!1})),b(!1));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j()}),[]);var N=function(){var e=Object(p.a)(d.a.mark((function e(){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,h("DELETE","/animes/".concat(a.params.animeId),null,o);case 3:n=e.sent,r=Object(E.a)(n,2),r[0],(c=r[1])?(v(c),b(!1)):(t.push("/animes"),b(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,h("POST","/user-animes",{userId:m.id,animeId:a.params.animeId},o);case 3:t=e.sent,n=Object(E.a)(t,2),r=n[0],(c=n[1])?(v(c),b(!1)):(g(Object(i.a)(Object(i.a)({},s),{},{id_follow:r.data,episode_follow:1})),b(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,h("DELETE","/user-animes/".concat(s.id_follow),null,o);case 3:a=e.sent,t=Object(E.a)(a,2),n=t[0],r=t[1],console.log(n,r),r?(v(r),b(!1)):(g(Object(i.a)(Object(i.a)({},s),{},{id_follow:null,episode_follow:null})),b(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.episode_follow+parseInt(document.getElementById("modalEpisode").value),e.next=3,h("PUT","/user-animes/".concat(s.id_follow),{episode:a},o);case 3:t=e.sent,n=Object(E.a)(t,2),n[0],(r=n[1])?(v(r),b(!1)):g(Object(i.a)(Object(i.a)({},s),{},{episode_follow:a,modalIsOpenUp:!1}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=s.episode_follow-parseInt(document.getElementById("modalEpisode").value))<0&&(a=1),{episode:a},e.next=5,h("PUT","/user-animes/".concat(s.id_follow),{episode:a},o);case 5:t=e.sent,n=Object(E.a)(t,2),n[0],(r=n[1])?(v(r),b(!1)):g(Object(i.a)(Object(i.a)({},s),{},{episode_follow:a,modalIsOpenUp:!1}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?r.a.createElement(z,{title:"500",error:l.message}):c?r.a.createElement(G,null):r.a.createElement(q,null,r.a.createElement("div",{className:"contentCard"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"banner"},r.a.createElement("img",{src:s.cover,alt:"cover",className:"cover"})),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"opener"},m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:w,title:"Sacar de mi lista",className:"follow ".concat(null!=s.id_follow?"active":"")},r.a.createElement(I.a,{icon:["fas","heart"]})),r.a.createElement("button",{onClick:y,title:"Agregar a mi lista",className:"no-follow ".concat(null==s.id_follow?"active":"")},r.a.createElement(I.a,{icon:["far","heart"]}))))),r.a.createElement("h2",{className:"name"},s.name),r.a.createElement("div",{className:"title"},"".concat(s.date," - ").concat({1:"Primavera",2:"Verano",3:"Oto\xf1o",4:"Invierno"}[s.station])),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"follow-info"},r.a.createElement("h2",null,r.a.createElement("div",null,r.a.createElement("span",null,s.season),r.a.createElement("small",null,"Temporada"))),r.a.createElement("h2",null,null!=s.id_follow?r.a.createElement("button",{onClick:function(){console.log("Modal Up true"),g(Object(i.a)(Object(i.a)({},s),{},{modalIsOpenUp:!0}))},className:"upEpisode",title:"Click para subir el episodio"},r.a.createElement("span",null,"".concat(s.episode_follow," / ").concat(s.episode)),r.a.createElement("small",null,"Episodio")):r.a.createElement("div",null,r.a.createElement("span",null,s.episode),r.a.createElement("small",null,"Episodio")))),r.a.createElement("a",{title:"Ir a ver",className:"status-btn btn-lg btn btn-".concat(s.classStatus," btn-block"),href:s.source,target:"_blank"},r.a.createElement("span",null,r.a.createElement(I.a,{icon:["fas",s.icon||"calendar-alt"]})," ",{1:"Online",2:"Detenido",3:"Finalizado"}[s.status]),1===s.status&&r.a.createElement("span",null,{1:"Lunes",2:"Martes",3:"Miercoles",4:"Jueves",5:"Viernes",6:"Sabado",7:"Domigo"}[s.premiere]))),r.a.createElement("div",{className:"desc"},s.description),O&&r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"follow-btn footer"},r.a.createElement("div",null,r.a.createElement(f.b,{to:"/anime/edit/".concat(s._id),className:"btn btn-info btn-block"},"Editar")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){g(Object(i.a)(Object(i.a)({},s),{},{modalIsOpenD:!0}))},className:"btn btn-danger btn-block"},"Borrar"))),r.a.createElement(ge,{isOpen:s.modalIsOpenD,onClose:function(){g(Object(i.a)(Object(i.a)({},s),{},{modalIsOpenD:!1}))},onClick:N})),r.a.createElement(he,{isOpen:s.modalIsOpenUp,onClose:function(){console.log("Modal Up false"),g(Object(i.a)(Object(i.a)({},s),{},{modalIsOpenUp:!1}))},onClickUp:k,onClickDown:_}))))})),Ne=function(e){var a=e.onChange,t=e.onSubmit,n=e.formValues,c=e.onError;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{required:!0,onChange:a,name:"name",type:"text",className:"form-control",value:n.name}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Temporada"),r.a.createElement("input",{required:!0,onChange:a,name:"season",type:"number",className:"form-control",value:n.season}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Episodios"),r.a.createElement("input",{required:!0,onChange:a,name:"episode",type:"number",className:"form-control",value:n.episode}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Fecha"),r.a.createElement("input",{required:!0,onChange:a,name:"date",type:"date",className:"form-control",value:n.date}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Estaci\xf3n"),r.a.createElement("select",{required:!0,onChange:a,name:"station",className:"custom-select",value:n.station},r.a.createElement("option",{defaultValue:""},"Seleccione una opci\xf3n"),r.a.createElement("option",{value:"1"},"Primavera"),r.a.createElement("option",{value:"2"},"Verano"),r.a.createElement("option",{value:"3"},"Oto\xf1o"),r.a.createElement("option",{value:"4"},"Invierno")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Link del anime"),r.a.createElement("input",{required:!0,onChange:a,name:"source",type:"url",className:"form-control",value:n.source}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Estado"),r.a.createElement("select",{required:!0,onChange:a,name:"status",className:"custom-select",value:n.status},r.a.createElement("option",{defaultValue:""},"Seleccione una opci\xf3n"),r.a.createElement("option",{value:"1"},"Online"),r.a.createElement("option",{value:"3"},"Finalizado"),r.a.createElement("option",{value:"2"},"Detenido")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"D\xeda de estreno"),r.a.createElement("select",{required:!0,onChange:a,name:"premiere",className:"custom-select",value:n.premiere},r.a.createElement("option",{defaultValue:""},"Seleccione una opci\xf3n"),r.a.createElement("option",{value:"1"},"Lunes"),r.a.createElement("option",{value:"2"},"Martes"),r.a.createElement("option",{value:"3"},"Miercoles"),r.a.createElement("option",{value:"4"},"Jueves"),r.a.createElement("option",{value:"5"},"Viernes"),r.a.createElement("option",{value:"6"},"Sabado"),r.a.createElement("option",{value:"7"},"Domingo")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Resumen"),r.a.createElement("textarea",{required:!0,onChange:a,name:"description",className:"form-control",rows:"8",value:n.description}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Imagen"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,onChange:a,name:"cover",type:"url",className:"form-control",value:n.cover}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},n.cover&&r.a.createElement("img",{alt:"cover",src:n.cover,className:"img-thumbnail rounded mx-auto d-block"}))),c&&r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("p",null,c)))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-info btn-lg btn-block"},"Enviar")))))},ye=Object(s.b)((function(e){return{token:e.token}}),null)((function(e){var a=e.history,t=e.token,c=Object(n.useState)({loading:!1,errorForm:null,error:null,form:{name:"",episode:"",date:"",station:"",cover:"",description:"",source:"",status:"",season:"",premiere:""}}),l=Object(E.a)(c,2),o=l[0],s=l[1];Object(n.useEffect)((function(){return document.body.classList.add("background-form"),function(){document.body.classList.remove("background-form")}}),[]);var m=function(e){var a=e.target.value;"station"!==e.target.name&&"status"!==e.target.name&&"premiere"!==e.target.name&&"episode"!==e.target.name&&"season"!==e.target.name||(a=Number(e.target.value)),s(Object(i.a)(Object(i.a)({},o),{},{form:Object(i.a)(Object(i.a)({},o.form),{},Object(C.a)({},e.target.name,a))}))},u=function(){var e=Object(p.a)(d.a.mark((function e(n){var r,c,l,m,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=o.form,e.next=4,h("POST","/animes",r,t);case 4:c=e.sent,l=Object(E.a)(c,2),m=l[0],u=l[1],s(Object(i.a)(Object(i.a)({},o),{},{loading:!1,error:u})),console.log(m,u),u?s(Object(i.a)(Object(i.a)({},o),{},{loading:!1,error:u})):m.error?s(Object(i.a)(Object(i.a)({},o),{},{loading:!1,errorForm:m.error})):a.push("/animes");case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),f=Object(n.useCallback)((function(e){e.map((function(e){var a=new FileReader;return a.onload=function(e){s(Object(i.a)(Object(i.a)({},o),{},{form:Object(i.a)(Object(i.a)({},o.form),{},{cover:e.target.result})}))},a.readAsDataURL(e),e}))}),[o]);return o.error?r.a.createElement(z,{title:"500",error:o.error.message}):o.loading?r.a.createElement(G,null):r.a.createElement(q,null,r.a.createElement("div",{className:"container__form"},r.a.createElement("h1",{className:"container__form--title"},"Crear Anime"),r.a.createElement(Ne,{onChange:m,onSubmit:u,formValues:o.form,onError:o.errorForm,onClick:m,onDrop:f})))})),we=Object(s.b)((function(e){return{token:e.token}}),null)((function(e){var a=e.match,t=e.history,c=e.token,l=Object(n.useState)({loading:!1,error:null,errorForm:null,form:{name:"",episode:"",date:"",station:"",cover:"",description:"",source:"",status:"",season:"",premiere:""},images:[]}),o=Object(E.a)(l,2),s=o[0],m=o[1],u=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(i.a)(Object(i.a)({},s),{},{loading:!0})),e.next=3,h("GET","/animes/".concat(a.params.animeId),null,c);case 3:t=e.sent,n=Object(E.a)(t,2),r=n[0],l=n[1],console.log(r,l),m(l?Object(i.a)(Object(i.a)({},s),{},{loading:!1,error:l}):Object(i.a)(Object(i.a)({},s),{},{loading:!1,form:r.data}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return document.body.classList.add("background-form"),u(),function(){document.body.classList.remove("background-form")}}),[]);var f=function(e){var a=e.target.value;"station"!==e.target.name&&"status"!==e.target.name&&"premiere"!==e.target.name&&"episode"!==e.target.name&&"season"!==e.target.name||(a=Number(e.target.value)),m(Object(i.a)(Object(i.a)({},s),{},{form:Object(i.a)(Object(i.a)({},s.form),{},Object(C.a)({},e.target.name,a))}))},b=function(){var e=Object(p.a)(d.a.mark((function e(n){var r,l,o,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m(Object(i.a)(Object(i.a)({},s),{},{loading:!0})),delete(r=s.form).episode_follow,delete r.id_follow,delete r._id,e.next=8,h("PUT","/animes/".concat(a.params.animeId),r,c);case 8:l=e.sent,o=Object(E.a)(l,2),u=o[0],p=o[1],m(Object(i.a)(Object(i.a)({},s),{},{loading:!1,error:p})),console.log(u,p),p?m(Object(i.a)(Object(i.a)({},s),{},{loading:!1,error:p})):u.error?m(Object(i.a)(Object(i.a)({},s),{},{loading:!1,errorForm:u.error})):t.push("/anime/detail/".concat(a.params.animeId));case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=Object(n.useCallback)((function(e){e.map((function(e){var a=new FileReader;return a.onload=function(e){m(Object(i.a)(Object(i.a)({},s),{},{form:Object(i.a)(Object(i.a)({},s.form),{},{cover:e.target.result})}))},a.readAsDataURL(e),e}))}),[s]);return s.error?r.a.createElement(z,{title:"500",error:s.error.message}):s.loading?r.a.createElement(G,null):r.a.createElement(q,null,r.a.createElement("div",{className:"container__form"},r.a.createElement("h1",{className:"container__form--title"},"Editar Anime"),r.a.createElement(Ne,{onChange:f,onSubmit:b,formValues:s.form,onError:s.errorForm,onClick:f,onDrop:v})))})),ke={setLoadingAuth:function(e){return{type:"SET_LOADING_AUTH",payload:e}},setError:_,setToken:O,setUser:N,setExpitedAt:j,setIsAuthenticated:y},_e=Object(s.b)((function(e){return{isAuthenticated:e.isAuthenticated,loadingAuth:e.loadingAuth}}),ke)((function(e){var a=e.isAuthenticated,t=e.loadingAuth,c=e.setLoadingAuth,l=e.setError,o=e.setToken,s=e.setUser,i=e.setExpitedAt,m=e.setIsAuthenticated,u=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,h("POST","/auth/verifyToken",null,null,null);case 3:a=e.sent,t=Object(E.a)(a,2),n=t[0],(r=t[1])?(l(r),s(null),m(!1),c(!1)):(o(n.token),i(n.expiredAt),n.user&&(s(n.user),m(!0)),c(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),t?r.a.createElement(G,null):r.a.createElement(f.a,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",component:ue}),r.a.createElement(T,{isAuthenticated:a,exact:!0,path:"/login",component:Q}),r.a.createElement(b.b,{exact:!0,path:"/animes",component:pe}),r.a.createElement(x,{isAuthenticated:a,exact:!0,path:"/animes/follows",component:be}),r.a.createElement(x,{isAuthenticated:a,exact:!0,path:"/anime/create",component:ye}),r.a.createElement(x,{isAuthenticated:a,exact:!0,path:"/anime/edit/:animeId",component:we}),r.a.createElement(b.b,{exact:!0,path:"/anime/detail/:animeId",component:je}),r.a.createElement(b.b,{component:z})))})),Ae=t(26),xe=t(9),Te=t(24),Ce=t(56);Ae.b.add(xe.j,xe.m,xe.n,xe.k,xe.g,xe.f,xe.e,xe.h,Te.c,Te.b,Te.a,Te.d,Te.e,xe.v,xe.l,xe.b,xe.d,xe.a,xe.c,xe.o,xe.r,xe.i,Ce.a,xe.u,xe.t,xe.q,xe.p,xe.s);var Ie=Object(o.b)(m,{token:null,expiredAt:null,user:null,isAuthenticated:!1,loadingAuth:!0,loading:!0,error:null,animes:[],animesWeek:[],animesFilter:[],query:"",anime:{}});l.a.render(r.a.createElement(s.a,{store:Ie},r.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);